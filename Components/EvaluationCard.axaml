<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:SubjectHelper.Components"
        xmlns:converters="clr-namespace:SubjectHelper.Converters">
    
    <Design.PreviewWith>
        <controls:EvaluationCard />
    </Design.PreviewWith>
    
    <Styles.Resources>
        <!-- <SolidColorBrush x:Key="BorderBrush">White</SolidColorBrush> -->
        <!-- <SolidColorBrush x:Key="BackgroundBrush">#232528</SolidColorBrush> -->
        <!-- <SolidColorBrush x:Key="ForegroundBrush">White</SolidColorBrush> -->
        
        <SolidColorBrush x:Key="CardBackground">#1E1E1E</SolidColorBrush>
        <SolidColorBrush x:Key="CardBorder">#2D2D2D</SolidColorBrush>
        
        <SolidColorBrush x:Key="PrimaryText">#E0E0E0</SolidColorBrush>
        <SolidColorBrush x:Key="SecondaryText">#A0A0A0</SolidColorBrush>
        
        <SolidColorBrush x:Key="EditIconColor">#BB86FC</SolidColorBrush>
        
        <SolidColorBrush x:Key="BadgeBackground">#F57C00</SolidColorBrush>
        <SolidColorBrush x:Key="BadgeForeground">#FFFFFF</SolidColorBrush>
        
        <converters:PercentageFormatConverter x:Key="PercentageFormatConverter"/>
        <converters:ProgressBarColorConverter x:Key="ProgressBarColorConverter"/>
    </Styles.Resources>

    <Style Selector="controls|EvaluationCard">
        <!-- Set Defaults -->
        <Setter Property="Template">
            <ControlTemplate>
                
                <Border
                    Background="{StaticResource CardBackground}"
                    BorderBrush="{StaticResource CardBorder}" BorderThickness="1"
                    Padding="10 12"
                    CornerRadius="8"
                    Width="512"
                    >
                    
                    <Grid
                        RowDefinitions="Auto, Auto, Auto, Auto"
                        >
                        
                        <!-- Title and Edit Button -->
                        <Grid 
                            Grid.Row="0"
                            ColumnDefinitions="*, Auto">
                            
                            <TextBlock 
                                Grid.Column="0" 
                                Text="{TemplateBinding Title}" 
                                FontWeight="Bold"
                                LetterSpacing="1"
                                FontSize="32"
                                VerticalAlignment="Center"
                                Foreground="{StaticResource PrimaryText}"/>
                            <Button 
                                Grid.Column="1" 
                                VerticalAlignment="Center"
                                Theme="{StaticResource BorderlessButton}"
                                >
                                <Label FontFamily="{StaticResource FaRegular}" 
                                       Content="&#xf044;" 
                                       Padding="0"
                                       FontSize="18"
                                       Foreground="{StaticResource EditIconColor}"/>
                            </Button>
                        </Grid>
                        
                        <!-- Weight -->
                        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0 2 0 0">
                            <TextBlock
                                Text="Weight: "
                                Foreground="{StaticResource SecondaryText}"
                                />
                            <TextBlock 
                                Text="{TemplateBinding Weight, Converter={StaticResource PercentageFormatConverter}}"
                                Foreground="{StaticResource SecondaryText}"
                                />
                        </StackPanel>
                        
                        <Grid
                            ColumnDefinitions="*, Auto"
                            Grid.Row="2"
                            Margin="0 15 9 0"
                            ColumnSpacing="10"
                            >
                            
                            <ProgressBar
                                Grid.Column="0"
                                ShowProgressText="True"
                                ProgressTextFormat="Points - {0}"
                                Minimum="0"
                                Maximum="100"
                                Value="{TemplateBinding Grade}"
                                Foreground="{TemplateBinding Grade, Converter={StaticResource ProgressBarColorConverter}}"
                                VerticalAlignment="Center">
                            </ProgressBar>
                            
                            <Border 
                                Grid.Column="1"
                                Margin="0 10 0 10"
                                Background="{TemplateBinding Grade, Converter={StaticResource ProgressBarColorConverter}}"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center"
                                CornerRadius="9"
                                Width="24"
                                >
                                <TextBlock
                                    Text="{TemplateBinding LetterGrade}"
                                    Foreground="{StaticResource BadgeForeground}"
                                    TextAlignment="Center"
                                    
                                />
                            </Border>
                            
                            
                        </Grid>
                        
                        
                        
                        
                        
                    </Grid>
                </Border>
                
                <!-- <Grid RowDefinitions="* * * *" ColumnDefinitions="* *" Width="160"> -->
                <!--      -->
                <!--     <Grid -->
                <!--         ColumnDefinitions="*, Auto" -->
                <!--         Grid.Row="0" -->
                <!--         Grid.Column="0" Grid.ColumnSpan="2"> -->
                <!--          -->
                <!--         <Border -->
                <!--             Grid.Column="0" -->
                <!--             BorderBrush="{StaticResource BorderBrush}" -->
                <!--             BorderThickness="1" -->
                <!--             Margin="0 0 0 -1" -->
                <!--             Padding="5"> -->
                <!--              -->
                <!--             <Label Content="{TemplateBinding Title}" -->
                <!--                    HorizontalAlignment="Center" -->
                <!--                    VerticalAlignment="Center" -->
                <!--                    Foreground="{StaticResource ForegroundBrush}"/> -->
                <!--              -->
                <!--         </Border> -->
                <!--          -->
                <!--         <Border -->
                <!--             Grid.Column="1" -->
                <!--             BorderBrush="{StaticResource BorderBrush}" -->
                <!--             BorderThickness="1" -->
                <!--             Margin="-1 0 0 -1" -->
                <!--             Padding="5"> -->
                <!--              -->
                <!--             <Button Theme="{StaticResource BorderlessButton}" Foreground="{StaticResource ForegroundBrush}"> -->
                <!--                 <PathIcon Data="{StaticResource SemiIconEdit}" Width="16" Height="16"/> -->
                <!--             </Button> -->
                <!--              -->
                <!--         </Border> -->
                <!--     </Grid> -->
                <!-- -->
                <!--     <Border  -->
                <!--         Grid.Column="0" Grid.ColumnSpan="2"  -->
                <!--         Grid.Row="1"  -->
                <!--         BorderBrush="{StaticResource BorderBrush}"   -->
                <!--         BorderThickness="1"  -->
                <!--         Margin="0 0 0 -1"  -->
                <!--         Padding="5"> -->
                <!--         <Label Content="{TemplateBinding Weight, Converter={StaticResource PercentageFormatConverter}}" -->
                <!--                HorizontalAlignment="Center" -->
                <!--                Foreground="{StaticResource ForegroundBrush}"/> -->
                <!--     </Border> -->
                <!-- -->
                <!--     <Border  -->
                <!--         Grid.Column="0" -->
                <!--         Grid.Row="2"  -->
                <!--         BorderBrush="{StaticResource BorderBrush}"   -->
                <!--         BorderThickness="1"  -->
                <!--         Margin="0 0 -1 0"  -->
                <!--         Padding="5"> -->
                <!--         <Label Content="{TemplateBinding Grade}" -->
                <!--                HorizontalAlignment="Center" -->
                <!--                Foreground="{StaticResource ForegroundBrush}"/> -->
                <!--     </Border> -->
                <!-- -->
                <!--     <Border  -->
                <!--         Grid.Column="1" -->
                <!--         Grid.Row="2"  -->
                <!--         BorderBrush="{StaticResource BorderBrush}"   -->
                <!--         BorderThickness="1"  -->
                <!--         Margin="0 0 0 0"  -->
                <!--         Padding="5"> -->
                <!--         <Label Content="{TemplateBinding LetterGrade}" -->
                <!--                HorizontalAlignment="Center" -->
                <!--                Foreground="{StaticResource ForegroundBrush}"/> -->
                <!--     </Border> -->
                <!-- </Grid> -->
            </ControlTemplate>
        </Setter>
    </Style>
</Styles>
